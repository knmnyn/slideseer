27,48,0.208333333333333,0.145833333333333,0.208333333333333,summarizing and mining zz zz zz inverse distributions zz on data streams zz via dynamic inverse sampling graham cormode zz cormode punct bell punct labs dot com s dot muthukrishnan muthu punct cs dot rutgers dot edu irina rozenbaum rozenbau punct paul dot rutgers dot edu presented by,summarizing and mining zz zz,-100,-100,-100,normal.
31,25,0,0.56,0.08,outline defining and motivating the inverse distribution queries and challenges on the inverse distribution dynamic inverse sampling to draw sample from inverse distribution experimental study,outline defining and motivating the,-100,189,-100,normal.
18,113,0.123893805309735,0.123893805309735,0.185840707964602,	data streams punct dsmss numerous real world applications generate data streams punct ip network monitoring	 zz zz zz financial transactions click streams		 zz zz zz sensor networks telecommunications	 zz zz zz text streams at application level comma etc dot data streams are characterized by massive data volumes of transactions and measurements at high speeds dot query processing is difficult on data streams punct we cannot store everything comma and must process at line speed dot exact answers to many questions are impossible without storing everything we must use approximation and randomization with strong guarantees dot data stream management systems punct dsms punct summarize streams in small space punct samples and sketches punct dot,	data streams punct dsmss numerous,189,-14,-203,normal.
12,73,0.191780821917808,0.123287671232877,0.164383561643836,dsms application punct zz ip network monitoring needed for punct network traffic patterns identification intrusion detection reports generation comma etc dot ip traffic stream punct massive data volumes of transactions and measurements punct over 50 billion flows punct day in at punct t backbone dot records arrive at a fast rate punct ddos attacks punct up to 600 comma 000 packets punct sec query examples punct heavy hitters change detection quantiles histogram summaries,dsms application punct zz ip,-14,1,15,normal.
53,120,0.208333333333333,0.1,0.391666666666667,	forward and inverse views problem a dot which ip address sent the most bytes punct that is comma find i such that zz zz zz p punct ip punct i sp is maximum dot forward distribution dot problem b dot what is the most common volume of traffic sent by an ip address punct that is comma find traffic volume w s dot t punct punct i punct w punct zz zz zz p punct ip punct i sp punct punct is maximum dot inverse distribution dot consider the ip traffic on a link as packet p representing punct ip comma sp punct pairs where ip is a source ip address and sp is a size of the packet dot,	forward and inverse views problem,1,-47,-48,normal.
32,212,0.330188679245283,0.0377358490566038,0.443396226415094,	the inverse distribution if f is a discrete distribution over a large set x comma then inverse distribution comma f punct 1 punct i punct comma gives fraction of items from x with count i dot inverse distribution is f punct 1 punct 0 zz zz zz n punct comma zz f punct 1 punct i punct punct fraction of ip addresses which sent i bytes dot zz 	 punct punct punct x punct f punct x punct punct i comma i punct zz zz zz zz zz 0 punct punct punct punct punct x punct f punct x punct punct zz zz zz zz zz 0 punct punct 	 f punct 1 punct i punct punct cumulative distribution of f punct 1 zz 	 punct zz zz zz j punct i f punct 1 punct j punct punct sum of f punct 1 punct j punct above i punct fraction of ip addresses which sent punct 1kb of data punct 1 zz zz zz f punct 1 punct 1024 punct most frequent number of bytes sent punct i s dot t dot f punct 1 punct i punct is greatest median number of bytes sent punct i s dot t dot f punct 1 punct i punct punct 0 dot 5,	the inverse distribution if f,-47,-5,42,normal.
15,146,0.226027397260274,0.143835616438356,0.191780821917808,queries on the inverse distribution particular queries proposed in networking map onto f punct 1 comma f punct 1 punct 1 punct punct number of flows consisting of a single packet punct indicative of network abnormalities punct attack punct levchenko comma paturi comma varghese 04 punct identify evolving attacks through shifts in inverse distribution punct geiger comma karamcheti comma kedem comma muthukrishnan 05 punct better understand resource usage punct what is dbn dot of customer traffic punct how many customers punct 1mb bandwidth punct day punct how many use 10 zz zz zz 20mb per day punct comma etc dot zz zz zz zz histograms punct quantiles on inverse distribution dot track most common usage patterns comma for analysis punct charging requires heavy hitters on inverse distribution inverse distribution captures fundamental features of the distribution comma has not been well punct studied in data streaming dot,queries on the inverse distribution,-5,47,52,normal.
50,231,0.268398268398268,0.051948051948052,0.510822510822511,forward and inverse views on ip streams forward distribution punct work on f punct 0 zz zz zz u punct where f punct x punct is the number of bytes sent by ip address x dot each new packet punct ip comma sp punct results in f punct ip punct zz zz zz f punct ip punct punct sp dot problems punct f punct i punct punct punct which f punct i punct is the largest punct quantiles of f punct inverse distribution punct work on f punct punct 1 punct 0 zz zz zz k punct each new packet results in f zz zz zz 1 punct f punct ip punct punct zz zz zz f zz zz zz 1 punct f punct ip punct punct zz zz zz 1 and f zz zz zz 1 punct f punct ip punct punct sp punct zz zz zz 		 f zz zz zz 1 punct f punct ip punct punct sp punct punct 1 dot problems punct f zz zz zz 1 punct i punct punct punct which f zz zz zz 1 punct i punct is the largest punct quantiles of f zz zz zz 1 punct consider the ip traffic on a link as packet p representing punct ip comma sp punct pairs where ip is a source ip address and sp is a size of the packet dot,forward and inverse views on,47,-5,-52,normal.
20,181,0.204419889502762,0.0441988950276243,0.458563535911602,inverse distribution on streams punct challenges i if we have full space comma it is easy to go between forward and inverse distribution dot but in small space it is much more difficult comma and existing methods in small space don zz zz zz t apply dot zz find f punct 192 dot 168 dot 1 dot 1 punct in small space comma with query give a priori zz zz zz easy punct just count how many times the address is seen dot find f punct 1 punct 1024 punct zz zz zz is provably hard punct can zz zz zz t find exactly how many ip addresses sent 1kb of data without keeping full space punct dot 7 punct 7 6 punct 7 5 punct 7 4 punct 73 punct 7 2 punct 7 1 punct 7 f punct 1 punct x punct 1 2 3 4 5 f punct 1 punct x punct i 1 2 3 4 5 3 punct 7 2 punct 7 1 punct 7 i f punct x punct x 5 4 3 2 1,inverse distribution on streams punct,-5,-233,-228,normal.
22,62,0.145161290322581,0.193548387096774,0.225806451612903,inverse distribution on streams punct challenges ii comma deletions how to maintain summary in presence of insertions and deletions punct insertions only zz updates sp punct 0 stream of arrivals can zz sample original distribution estimated distribution punct punct insertions and deletions updates sp can be arbitrary original distribution estimated distribution stream of arrivals and departures punct punct how to summarize punct,inverse distribution on streams punct,-233,174,407,normal.
30,168,0.220238095238095,0.0595238095238095,0.404761904761905,our approach punct dynamic inverse sampling many queries on the forward distribution can be answered effectively by drawing a sample dot draw an x so probability of picking x is f punct x punct punct zz zz zz y f punct y punct similarly comma we want to draw a sample from the inverse distribution in the centralized setting dot draw punct i comma x punct s dot t dot f punct x punct punct i comma i zz zz zz 0 so probability of picking i is zz f punct 1 punct i punct punct zz zz zz j f punct 1 punct j punct and probability of picking x is uniform dot drawing from forward distribution is zz zz zz easy zz zz zz punct just uniformly decide to sample each new item punct ip address comma size punct seen drawing from inverse distribution is more difficult comma since probability of drawing punct i comma 1 punct should be same as punct j comma 1024 punct,our approach punct dynamic inverse,174,-72,-246,normal.
21,105,0.171428571428571,0.114285714285714,0.323809523809524,dynamic inverse sampling punct outline data structure split into levels for each update punct ip comma sp punct punct compute hash l punct ip punct to a level in the data structure dot update counts in level l punct ip punct with ip and sp x count unique x zz zz zz zz zz zz m mr mr2 mr3 0 l punct x punct at query time punct probe the data structure to return punct ip comma s sp punct where ip is sampled uniformly from all items with non punct zero count use the sample to answer the query on the inverse distribution dot,dynamic inverse sampling punct outline,-72,65,137,normal.
18,161,0.260869565217391,0.105590062111801,0.347826086956522,hashing technique use hash function with exponentially decreasing distribution punct let h be the hash function and r is an appropriate const punct 1 pr punct h punct x punct punct 0 punct punct punct 1 punct r punct 	 pr punct h punct x punct punct 1 punct punct r punct 1 punct r punct zz zz zz 	 pr punct h punct x punct punct l punct punct rl punct 1 punct r punct track the following information as updates are seen punct x punct item with largest hash value seen so far unique punct is it the only distinct item seen with that hash value punct count punct count of the item x easy to keep punct x comma unique comma count punct up to date for insertions only x count unique x zz zz zz zz zz zz m mr mr2 mr3 0 l punct x punct challenge punct how to maintain in presence of deletes punct,hashing technique use hash function,65,-66,-131,normal.
28,107,0.252336448598131,0.0747663551401869,0.504672897196262,collision detection punct inserts and deletes sum count x zz zz zz zz zz zz m mr mr2 mr3 0 l punct x punct coll dot detection 16 8 4 2 1 0 1 update output insert 13 13 1 punct 1 punct 1 punct 1 punct 1 punct 1 13 punct 1 punct 13 insert 13 26 2 punct 2 punct 2 punct 2 punct 2 punct 2 26 punct 2 punct 13 insert 7 33 3 punct 3 punct 3 punct 3 punct 1 punct 1 collision delete 7 26 punct 2 punct 13 level 0 simple punct use approximate distinct element estimation routine dot,collision detection punct inserts and,-66,44,110,normal.
28,118,0.127118644067797,0.076271186440678,0.220338983050847,outline of analysis analysis shows punct if there zz zz zz s unique item comma it zz zz zz s chosen uniformly from set of items with non punct zero count dot can show whatever the distribution of items comma the probability of a unique item at level l is at least constant use properties of hash function punct only limited comma pairwise independence needed punct easy to obtain punct theorem punct with constant probability comma for an arbitrary sequence of insertions and deletes comma the procedure returns a uniform sample from the inverse distribution with constant probability dot repeat the process independently with different hash functions to return larger sample comma with high probability dot level l,outline of analysis analysis shows,44,-83,-127,normal.
25,158,0.170886075949367,0.113924050632911,0.265822784810127,application to inverse distribution estimates overall procedure punct obtain the distinct sample from the inverse distribution of size s punct evaluate the query on the sample and return the result dot median number of bytes sent punct find median from sample the most common volume of traffic sent punct find the most common from sample what fraction of items sent i bytes punct find fraction from the sample example punct median is bigger than zz zz and smaller than zz zz the values dot answer has some error punct not zz zz comma but punct zz zz zz zz e punct theorem punct if sample size s punct o punct 1 punct e2 log 1 punct d punct then answer from the sample is between punct zz zz punct e punct and punct zz zz punct e punct with probability at least 1 punct d dot proof follows from application of hoeffding zz zz zz s bound dot,application to inverse distribution estimates,-83,-24,59,normal.
31,126,0.111111111111111,0.166666666666667,0.150793650793651,experimental study data sets punct large sets of network data drawn from http log files from the 1998 world cup web site punct several million records each punct synthetic data set with 5 million randomly generated distinct items used to build a dynamic transactions set with many insertions and deletions punct dis punct dynamic inverse sampling algorithms zz zz zz extract at most one sample from each data structure punct gdis punct greedy version of dynamic inverse sampling zz zz zz greedily process every level comma extract as many samples as possible from each data structure punct distinct punct distinct sampling punct gibbons vldb 2001 punct draws a sample based on a coin punct tossing procedure using a pairwise punct independent hash function on item values,experimental study data sets punct,-24,8,32,normal.
19,43,0.255813953488372,0.162790697674419,0.418604651162791,sample size vs dot fraction of deletions desired sample size is 1000 dot x punct 80 punct distinct zz zz zz 12 punct dis zz zz zz 100 punct x punct 99 punct distinct punct 1 punct dis zz zz zz 100 punct,sample size vs dot fraction,8,-17,-25,normal.
23,74,0.121621621621622,0.0810810810810811,0.418918918918919,returned sample size x punct 100 distinct zz zz zz 45 punct dis zz zz zz 99 punct gdis zz zz zz 5 items per data structure x punct 1000 distinct zz zz zz 30 punct dis zz zz zz 95 punct gdis zz zz zz 5 items per data structure experiments were run on the client id attribute of the http log data dot 50 punct of the inserted records were deleted dot,returned sample size x punct,-17,-4,13,normal.
21,58,0.0862068965517241,0.103448275862069,0.155172413793103,sample quality inverse range query punct compute the fraction of records with size greater than i punct 1024 and compare it to the exact value computed offline inverse quantile query punct estimate the median of the inverse distribution using the sample and measure how far was the position of the returned item i from 0 dot 5 dot,sample quality inverse range query,-4,-49,-45,normal.
26,74,0.27027027027027,0.337837837837838,0.0135135135135135,related work distinct sampling under insert only punct gibbons punct distinct sampling comma vldb 2002 dot datar and muthukrishnan punct rarity and similarity comma esa 2002 dot distinct sampling under deletes also punct frahling comma indyk comma sohler punct dynamic geometric streams comma stoc 2005 dot ganguly comma garofalakis comma rastogi punct processing set expressions over continuous update streams comma sigmod 2003 dot inverse distributions punct has recently informally appeared in networking papers dot,related work distinct sampling under,-49,18,67,normal.
38,109,0.110091743119266,0.110091743119266,0.18348623853211,conclusions we have formalized inverse distributions on data streams and introduced dynamic inverse sampling method that draws uniform samples from the inverse distribution in presence of insertions and deletions dot with a sample of size o punct 1 punct zz zz 2 punct comma can answer many queries on the inverse distribution punct including point and range queries comma heavy hitters comma quantiles punct up to additive approximation of zz zz dot experimental study shows that proposed methods can work at high rates and answer queries with high accuracy future work punct incorporate in data stream systems can we also sample from forward dbn under inserts and deletes punct,conclusions we have formalized inverse,18,-100,-100,normal.
0,0,0,0,0,,,-100,-100,-100,normal.
15,21,0,0.476190476190476,0.0476190476190476,future work incorporate inverse distribution into data stream management system development of sampling techniques from forward distribution under inserts and deletes,future work incorporate inverse distribution,-100,149,-100,normal.
30,256,0.23046875,0.03125,0.62890625,dis punct example of insertions punct we consider the following example sequence of insertions of items punct 		input punct 4 comma 7 comma 4 comma 1 comma 3 comma 4 comma 2 comma 6 comma 4 comma 2 suppose these hash to levels in an instance of our data structure as follows punct x l punct x punct 1 2 3 4 5 6 7 8 1 3 2 1 1 1 2 1 time level 1 level 2 level 3 step item count unique item count unique item count unique 1 dot 4 1 t 0 0 t 0 0 t 2 dot 4 1 t 7 1 t 0 0 t 3 dot 4 2 t 7 1 t 0 0 t 4 dot 4 3 f 7 1 t 0 0 t 5 dot 4 3 f 7 2 f 0 0 t 6 dot 4 4 f 7 2 f 0 0 t 7 dot 4 4 f 7 2 f 2 1 t 8 dot 4 5 f 7 2 f 2 1 t 9 dot 4 6 f 7 2 f 2 1 t 10 dot 4 6 f 7 2 f 2 2 t punct count comma item punct punct 1 comma 4 punct punct 1 comma 4 punct punct 2 comma 7 punct punct 1 comma 4 punct punct 2 comma 7 punct punct 2 comma 7 punct punct 1 comma 2 punct punct 1 comma 2 punct punct 1 comma 2 punct punct 2 comma 2 punct,dis punct example of insertions,149,-149,-298,normal.
22,60,0.15,0.2,0.216666666666667,inverse distribution on streams punct challenges ii comma deletions insertions only zz updates sp punct 0 stream of arrivals can zz sample punct punct insertions and deletions updates sp can be arbitrary original distribution estimated distribution original distribution estimated distribution maintain summary in presence of insertions and deletions punct how to summarize punct stream of arrivals and departures punct punct,inverse distribution on streams punct,-149,174,323,normal.
21,118,0.177966101694915,0.0593220338983051,0.38135593220339,sampling insight each distinct item x contributes to one pair punct i comma x punct need to sample uniformly from these pairs dot basic insight punct sample uniformly from the items x and count how many times x is seen to give punct i comma x punct pair that has correct i and is uniform dot how to pick x uniformly before seeing any x punct use a randomly chosen hash function on each x to decide whether to pick it punct and reset count punct dot f punct x punct x 5 4 3 2 1 f punct 1 punct x punct i 1 2 3 4 5 3 punct 7 2 punct 7 1 punct 7,sampling insight each distinct item,174,-41,-215,normal.
21,148,0.141891891891892,0.114864864864865,0.358108108108108,hashing analysis theorem punct if unique is true comma then x is picked uniformly dot zz probability of unique being true is at least a constant dot punct for right value of r comma unique is almost always true in practice punct proof outline punct uniformity follows so long as hash function h is at least pairwise independent dot hard part is showing that unique is true with constant prob dot let d is number of distinct items dot fix l so 1 punct r zz zz drl zz zz 1 punct r2 dot in expectation comma drl items hash to level l or higher variance is also bounded by drl comma and we ensure 1 punct r2 zz zz 3 punct 2 dot analyzing comma can show that there is constant probability that there are either 1 or 2 items hashing to level l or higher dot,hashing analysis theorem punct if,-41,-32,9,normal.
28,107,0.252336448598131,0.0747663551401869,0.504672897196262,13 26 33 collision detection punct inserts and deletes sum count x zz zz zz zz zz zz m mr mr2 mr3 0 l punct x punct coll dot detection 16 8 4 2 1 0 1 update output insert 13 1 punct 1 punct 1 punct 1 punct 1 punct 1 13 punct 1 punct 13 insert 13 2 punct 2 punct 2 punct 2 punct 2 punct 2 26 punct 2 punct 13 insert 7 3 punct 3 punct 3 punct 3 punct 1 punct 1 collision delete 7 26 punct 2 punct 13 level 0 simple punct use approximate distinct element estimation routine dot,13 26 33 collision detection,-32,0,32,normal.
28,107,0.252336448598131,0.0747663551401869,0.504672897196262,collision detection punct inserts and deletes sum count x zz zz zz zz zz zz m mr mr2 mr3 0 l punct x punct coll dot detection 16 8 4 2 1 0 1 update output insert 13 13 1 punct 1 punct 1 punct 1 punct 1 punct 1 13 punct 1 punct 13 insert 13 26 2 punct 2 punct 2 punct 2 punct 2 punct 2 26 punct 2 punct 13 insert 7 33 3 punct 3 punct 3 punct 3 punct 1 punct 1 collision delete 7 26 punct 2 punct 13 level 0 simple punct use approximate distinct element estimation routine dot,collision detection punct inserts and,0,32,32,normal.
30,149,0.228187919463087,0.0671140939597315,0.36241610738255,hashing analysis if only one item at level l comma then unique is true if two items at level l or higher comma can go deeper into the analysis and show that punct assuming there are two items punct there is constant probability that they are both at same level dot if not at same level comma then unique is true comma and we recover a uniform sample dot probability of failure is p punct r punct 3 punct r punct punct punct 2 punct 1 punct r punct punct dot number of levels is o punct log n punct log 1 punct r punct need 1 punct r punct 1 so this is bounded comma and zz 1 punct r2 zz zz 3 punct 2 for analysis to work end up choosing r punct p punct 2 punct 3 punct comma so p is punct 1 level l,hashing analysis if only one,32,-47,-79,normal.
26,145,0.289655172413793,0.0620689655172414,0.427586206896552,collision detection punct cont zz zz zz d punct deterministic punct previous slide punct punct suppose punct x punct punct m punct 2b so each x x is represented as a b bit integer dot we can keep 2b counters c punct j comma k punct indexed by j punct 1 zz zz zz b and k punct 0 comma 1 punct dot probabilistic punct draw t hash functions comma g1 zz zz zz dot gt comma which map items uniformly onto punct 0 comma 1 punct comma and a set of t zz zz 2 counters c punct j comma k punct dot heuristic punct compute q new hash functions gj punct x punct mapping items x onto 0 zz zz zz m comma and take the summation of g punct x punct as sumg punct j comma l punct x punct punct dot,collision detection punct cont zz,-47,26,73,normal.
25,152,0.197368421052632,0.0526315789473684,0.348684210526316,sample size this process either draws a single pair punct i comma x punct comma or may not return anything dot in order to get a larger sample with high probability comma repeat the same process in parallel over the input with different hash functions h1 zz zz zz hs to draw up to s samples punct ij comma xj punct let e punct p punct 2 log punct 1 punct d punct punct s punct dot by chernoff bounds comma if we keep zz s punct punct 1 punct 2e punct s punct punct 1 zz zz zz p punct copies of the data structure comma then we recover at least s samples with probability at least 1 punct d repetitions are a little slow zz zz zz for better performance comma keeping the s items with the s smallest hash values is almost uniform comma and faster to maintain dot,sample size this process either,26,6,-20,normal.
26,32,0.125,0.15625,0.21875,evaluation output process punct at each level punct if level is not empty comma check whether there was a collision at the level if no collision comma extract item from the level,evaluation output process punct at,6,-79,-85,normal.
28,5,0,0.4,0.2,experimental study 5 more slides,,-79,-35,44,normal.
66,7,0,0.142857142857143,0.285714285714286,key features of existing zz sampling methods,key features of existing zz,-35,-100,-100,normal.
